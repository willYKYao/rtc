{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?8aea","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/App.vue?60d0","webpack:///./src/App.vue?315a","webpack:///./src/pages/Login.vue","webpack:///./src/assets/js/sha256.js","webpack:///src/pages/Login.vue","webpack:///./src/pages/Login.vue?d106","webpack:///./src/pages/Login.vue?8cd4","webpack:///./src/pages/Metting.vue","webpack:///src/pages/Metting.vue","webpack:///./src/pages/Metting.vue?7b1a","webpack:///./src/pages/Metting.vue?0c50","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./src/pages/Login.vue?b3ac","webpack:///./src/pages/Metting.vue?0a9f"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_c","_self","attrs","staticRenderFns","mounted","component","staticClass","_m","directives","rawName","userName","expression","modifiers","domProps","on","$event","target","composing","trim","$forceUpdate","channelId","isSupportRtc","handleClickJoinBtn","_v","rotateRight","x","choice","y","z","majority","sha256_Sigma0","sha256_Sigma1","sha256_sigma0","sha256_sigma1","sha256_expand","W","ihash","count","buffer","K256","Array","sha256_hex_digits","safe_add","lsw","msw","sha256_init","sha256_transform","a","b","e","f","g","h","T1","T2","sha256_update","inputLen","index","curpos","remainder","charCodeAt","sha256_final","sha256_encode_hex","output","String","charAt","sha256","toString","replace","substr","userId","methods","joinChannel","path","query","error","alert","getAuthInfo","v","appId","appid","userid","timestamp","nonce","token","gslb","channel","checkSupportRtc","isSupport","then","res","console","catch","created","_s","class","isOpenCamera","handleClickCameraBtn","isOpenAudio","handleClickAudioBtn","handleClickLeaveBtn","ref","_l","remotes","remote","refInFor","muteAudioPlaying","displayName","handleClickRemoteAudioBtn","leaveChannel","location","init","showLocalVideo","startPreview","publishVideo","subscribeRemote","beforeDestroy","VueRouter","routes","Login","Metting","Vue","config","productionTip","use","App","router","beforeCreate","$aliWebrtc","AliRtcEngine","autoPublish","autoSubscribe","$mount"],"mappings":"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","file":"js/app.29dc7860.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=75be0d15&prod&lang=less&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"app\">\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App',\n  mounted(){\n  }\n}\n</script>\n\n<style lang=\"less\">\n@import url(\"./assets/css/reset.css\");\n@import url(\"./assets/css/variable.less\");\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: @color_default;\n}\n.flex{\n  display: flex;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=75be0d15&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=75be0d15&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"login flex\"},[_c('div',{staticClass:\"main\"},[_vm._m(0),_c('div',{staticClass:\"main-input\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.userName),expression:\"userName\",modifiers:{\"trim\":true}}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入用户名\"},domProps:{\"value\":(_vm.userName)},on:{\"input\":function($event){if($event.target.composing)return;_vm.userName=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('br'),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.channelId),expression:\"channelId\",modifiers:{\"trim\":true}}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入房间号\"},domProps:{\"value\":(_vm.channelId)},on:{\"input\":function($event){if($event.target.composing)return;_vm.channelId=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('div',{staticClass:\"main-button\"},[_c('button',{attrs:{\"type\":\"button\",\"disabled\":_vm.channelId === '' || !_vm.isSupportRtc},on:{\"click\":_vm.handleClickJoinBtn}},[_vm._v(\" 进入房间 \")])])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"main-title\"},[_c('span',[_vm._v(\"音视频通信\")])])\n}]\n\nexport { render, staticRenderFns }","/* SHA256 logical functions */\nfunction rotateRight(n,x) {\n\treturn ((x >>> n) | (x << (32 - n)));\n}\nfunction choice(x,y,z) {\n\treturn ((x & y) ^ (~x & z));\n}\nfunction majority(x,y,z) {\n\treturn ((x & y) ^ (x & z) ^ (y & z));\n}\nfunction sha256_Sigma0(x) {\n\treturn (rotateRight(2, x) ^ rotateRight(13, x) ^ rotateRight(22, x));\n}\nfunction sha256_Sigma1(x) {\n\treturn (rotateRight(6, x) ^ rotateRight(11, x) ^ rotateRight(25, x));\n}\nfunction sha256_sigma0(x) {\n\treturn (rotateRight(7, x) ^ rotateRight(18, x) ^ (x >>> 3));\n}\nfunction sha256_sigma1(x) {\n\treturn (rotateRight(17, x) ^ rotateRight(19, x) ^ (x >>> 10));\n}\nfunction sha256_expand(W, j) {\n\treturn (W[j&0x0f] += sha256_sigma1(W[(j+14)&0x0f]) + W[(j+9)&0x0f] + \nsha256_sigma0(W[(j+1)&0x0f]));\n}\n\n/* Hash constant words K: */\nvar K256 = new Array(\n\t0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5,\n\t0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\n\t0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3,\n\t0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\n\t0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc,\n\t0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\n\t0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7,\n\t0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\n\t0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13,\n\t0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n\t0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3,\n\t0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\n\t0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5,\n\t0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\n\t0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208,\n\t0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n);\n\n/* global arrays */\nvar ihash, count, buffer;\nvar sha256_hex_digits = \"0123456789abcdef\";\n\n/* Add 32-bit integers with 16-bit operations (bug in some JS-interpreters:\noverflow) */\nfunction safe_add(x, y)\n{\n\tvar lsw = (x & 0xffff) + (y & 0xffff);\n\tvar msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n\treturn (msw << 16) | (lsw & 0xffff);\n}\n\n/* Initialise the SHA256 computation */\nfunction sha256_init() {\n\tihash = new Array(8);\n\tcount = new Array(2);\n\tbuffer = new Array(64);\n\tcount[0] = count[1] = 0;\n\tihash[0] = 0x6a09e667;\n\tihash[1] = 0xbb67ae85;\n\tihash[2] = 0x3c6ef372;\n\tihash[3] = 0xa54ff53a;\n\tihash[4] = 0x510e527f;\n\tihash[5] = 0x9b05688c;\n\tihash[6] = 0x1f83d9ab;\n\tihash[7] = 0x5be0cd19;\n}\n\n/* Transform a 512-bit message block */\nfunction sha256_transform() {\n\tvar a, b, c, d, e, f, g, h, T1, T2;\n\tvar W = new Array(16);\n\n\t/* Initialize registers with the previous intermediate value */\n\ta = ihash[0];\n\tb = ihash[1];\n\tc = ihash[2];\n\td = ihash[3];\n\te = ihash[4];\n\tf = ihash[5];\n\tg = ihash[6];\n\th = ihash[7];\n\n        /* make 32-bit words */\n\tfor(var i=0; i<16; i++)\n\t\tW[i] = ((buffer[(i<<2)+3]) | (buffer[(i<<2)+2] << 8) | (buffer[(i<<2)+1] \n<< 16) | (buffer[i<<2] << 24));\n\n        for(var j=0; j<64; j++) {\n\t\tT1 = h + sha256_Sigma1(e) + choice(e, f, g) + K256[j];\n\t\tif(j < 16) T1 += W[j];\n\t\telse T1 += sha256_expand(W, j);\n\t\tT2 = sha256_Sigma0(a) + majority(a, b, c);\n\t\th = g;\n\t\tg = f;\n\t\tf = e;\n\t\te = safe_add(d, T1);\n\t\td = c;\n\t\tc = b;\n\t\tb = a;\n\t\ta = safe_add(T1, T2);\n        }\n\n\t/* Compute the current intermediate hash value */\n\tihash[0] += a;\n\tihash[1] += b;\n\tihash[2] += c;\n\tihash[3] += d;\n\tihash[4] += e;\n\tihash[5] += f;\n\tihash[6] += g;\n\tihash[7] += h;\n}\n\n/* Read the next chunk of data and update the SHA256 computation */\nfunction sha256_update(data, inputLen) {\n\tvar i, index, curpos = 0;\n\t/* Compute number of bytes mod 64 */\n\tindex = ((count[0] >> 3) & 0x3f);\n        var remainder = (inputLen & 0x3f);\n\n\t/* Update number of bits */\n\tif ((count[0] += (inputLen << 3)) < (inputLen << 3)) count[1]++;\n\tcount[1] += (inputLen >> 29);\n\n\t/* Transform as many times as possible */\n\tfor(i=0; i+63<inputLen; i+=64) {\n                for(var j=index; j<64; j++)\n\t\t\tbuffer[j] = data.charCodeAt(curpos++);\n\t\tsha256_transform();\n\t\tindex = 0;\n\t}\n\n\t/* Buffer remaining input */\n\tfor(var j=0; j<remainder; j++)\n\t\tbuffer[j] = data.charCodeAt(curpos++);\n}\n\n/* Finish the computation by operations such as padding */\nfunction sha256_final() {\n\tvar index = ((count[0] >> 3) & 0x3f);\n        buffer[index++] = 0x80;\n        if(index <= 56) {\n\t\tfor(var i=index; i<56; i++)\n\t\t\tbuffer[i] = 0;\n        } else {\n\t\tfor(var i=index; i<64; i++)\n\t\t\tbuffer[i] = 0;\n                sha256_transform();\n                for(var i=0; i<56; i++)\n\t\t\tbuffer[i] = 0;\n\t}\n        buffer[56] = (count[1] >>> 24) & 0xff;\n        buffer[57] = (count[1] >>> 16) & 0xff;\n        buffer[58] = (count[1] >>> 8) & 0xff;\n        buffer[59] = count[1] & 0xff;\n        buffer[60] = (count[0] >>> 24) & 0xff;\n        buffer[61] = (count[0] >>> 16) & 0xff;\n        buffer[62] = (count[0] >>> 8) & 0xff;\n        buffer[63] = count[0] & 0xff;\n        sha256_transform();\n}\n\n/* Split the internal hash values into an array of bytes */\nfunction sha256_encode_bytes() {\n        var j=0;\n        var output = new Array(32);\n\tfor(var i=0; i<8; i++) {\n\t\toutput[j++] = ((ihash[i] >>> 24) & 0xff);\n\t\toutput[j++] = ((ihash[i] >>> 16) & 0xff);\n\t\toutput[j++] = ((ihash[i] >>> 8) & 0xff);\n\t\toutput[j++] = (ihash[i] & 0xff);\n\t}\n\treturn output;\n}\n\n/* Get the internal hash as a hex string */\nfunction sha256_encode_hex() {\n\tvar output = new String();\n\tfor(var i=0; i<8; i++) {\n\t\tfor(var j=28; j>=0; j-=4)\n\t\t\toutput += sha256_hex_digits.charAt((ihash[i] >>> j) & 0x0f);\n\t}\n\treturn output;\n}\n\n/* Main function: returns a hex string representing the SHA256 value of the\ngiven data */\nexport default function sha256(data) {\n\tsha256_init();\n\tsha256_update(data, data.length);\n\tsha256_final();\n        return sha256_encode_hex();\n}","<template>\r\n  <div class=\"login flex\">\r\n    <div class=\"main\">\r\n      <div class=\"main-title\">\r\n        <span>音视频通信</span>\r\n      </div>\r\n      <div class=\"main-input\">\r\n        <input type=\"text\" placeholder=\"请输入用户名\" v-model.trim=\"userName\" />\r\n        <br />\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"请输入房间号\"\r\n          v-model.trim=\"channelId\"\r\n        />\r\n      </div>\r\n      <div class=\"main-button\">\r\n        <button\r\n          type=\"button\"\r\n          :disabled=\"channelId === '' || !isSupportRtc\"\r\n          @click=\"handleClickJoinBtn\"\r\n        >\r\n          进入房间\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport sha256 from '../assets/js/sha256'\r\n\r\nexport default {\r\n  name: 'Login',\r\n  data() {\r\n    return {\r\n      isSupportRtc: false,\r\n      userName: Math.random()\r\n        .toString(36)\r\n        .replace(/[^a-z]+/g, '')\r\n        .substr(0, 5), // 用户名\r\n      channelId: '', // 房间号\r\n      userId: '' // 用户号\r\n    }\r\n  },\r\n  methods: {\r\n    // 点击进入房间\r\n    handleClickJoinBtn() {\r\n      // 获取授权信息\r\n      const authInfo = this.getAuthInfo()\r\n      // 加入房间\r\n      this.joinChannel(authInfo)\r\n    },\r\n    joinChannel(authInfo) {\r\n      this.$aliWebrtc.joinChannel(authInfo, this.userName).then(\r\n        () => {\r\n          // 加入房间成功\r\n          this.$router.push({\r\n            path: '/metting',\r\n            query: {\r\n              channelId: this.channelId,\r\n              userName: this.userName,\r\n              userId: this.userId\r\n            }\r\n          })\r\n        },\r\n        (error) => {\r\n          // 加入房间失败\r\n          alert('joinChannel err: ' + error.message)\r\n        }\r\n      )\r\n    },\r\n    getAuthInfo() {\r\n      const appId = 'hil6ydzc' // 修改为自己的appid 该方案仅为开发测试使用，正式上线需要使用服务端的AppServer\r\n      const key = '8172773aeb6531f8fb9efd5162e6a08c' // 修改为自己的key 该方案仅为开发测试使用，正式上线需要使用服务端的AppServer\r\n      const userId = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(\r\n        /[xy]/g,\r\n        function (c) {\r\n          var r = (Math.random() * 16) | 0,\r\n            v = c == 'x' ? r : (r & 0x3) | 0x8\r\n          return v.toString(16)\r\n        }\r\n      ) // 可以自定义\r\n      this.userId = userId\r\n      const timestamp = parseInt(new Date().getTime() / 1000 + 48 * 60 * 60)\r\n      const nonce = 'AK-' + timestamp\r\n      const token = sha256(\r\n        appId + key + this.channelId + userId + nonce + timestamp\r\n      )\r\n      return {\r\n        appid: appId,\r\n        userid: userId,\r\n        timestamp: timestamp,\r\n        nonce: nonce,\r\n        token: token,\r\n        gslb: ['https://rgslb.rtc.aliyuncs.com'],\r\n        channel: this.channelId\r\n      }\r\n    },\r\n    checkSupportRtc() {\r\n      this.$aliWebrtc\r\n        .isSupport()\r\n        .then((res) => {\r\n          //支持webrtc\r\n          console.log(res)\r\n          this.isSupportRtc = true\r\n        })\r\n        .catch((error) => {\r\n          //不支持webrtc\r\n          alert('support err: ' + error.message)\r\n          this.isSupportRtc = false\r\n        })\r\n    }\r\n  },\r\n  created() {\r\n    // 检测是否支持webrtc\r\n    this.checkSupportRtc()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import url('../assets/css/variable.less');\r\n.login {\r\n  min-height: 100vh;\r\n  padding: 0 20px;\r\n  background-color: @color_theme;\r\n  &.flex {\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n  .main {\r\n    width: 420px;\r\n    max-width: 100%;\r\n    background-color: #fff;\r\n    padding: 30px 26px 24px 26px;\r\n    font-size: 14px;\r\n    .main-title {\r\n      font-size: 30px;\r\n      text-align: center;\r\n      letter-spacing: 1px;\r\n    }\r\n    .main-input {\r\n      margin: 33px 0 13px 0;\r\n      input {\r\n        padding: 0 14px;\r\n        width: 100%;\r\n        line-height: 38.5px;\r\n        height: 38.5px;\r\n        color: @color_input;\r\n        border: solid 1px @color_border;\r\n        position: relative;\r\n        margin-bottom: 10px;\r\n        touch-action: none;\r\n        outline: 0;\r\n      }\r\n    }\r\n    .main-button {\r\n      button {\r\n        padding: 0 14px;\r\n        width: 100%;\r\n        box-sizing: border-box;\r\n        line-height: 38.5px;\r\n        height: 38.5px;\r\n        background-color: @color_theme;\r\n        border: 0;\r\n        color: white;\r\n        letter-spacing: 1px;\r\n        &:disabled {\r\n          background-color: @color_disabled;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=074d0536&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=074d0536&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"074d0536\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"metting flex\"},[_vm._m(0),_c('div',{staticClass:\"local-container\"},[_c('div',{staticClass:\"local-message\"},[_c('p',[_vm._v(\" User: \"),_c('strong',[_vm._v(_vm._s(_vm.userName))])]),_c('p',[_vm._v(\" Channel Id: \"),_c('strong',[_vm._v(_vm._s(_vm.channelId))])]),_c('button',{class:_vm.isOpenCamera ? 'active' : '',attrs:{\"type\":\"button\"},on:{\"click\":_vm.handleClickCameraBtn}},[_vm._v(\" 关闭摄像头 \")]),_c('button',{class:_vm.isOpenAudio ? 'active' : '',attrs:{\"type\":\"button\"},on:{\"click\":_vm.handleClickAudioBtn}},[_vm._v(\" 关闭麦克风 \")]),_c('button',{attrs:{\"type\":\"button\"},on:{\"click\":_vm.handleClickLeaveBtn}},[_vm._v(\"退出房间\")])]),_c('div',{staticClass:\"local-video\"},[_c('video',{ref:\"localVideo\",attrs:{\"autoplay\":\"\"}})])]),_c('div',{staticClass:\"remote-container\"},[_c('h2',[_vm._v(\"房间成员\")]),_c('ul',_vm._l((_vm.remotes),function(remote){return _c('li',{key:remote.userId},[_c('video',{ref:'remote' + remote.userId,refInFor:true,attrs:{\"autoplay\":\"\"},domProps:{\"muted\":remote.muteAudioPlaying}}),_c('div',{staticClass:\"remote-name\"},[_vm._v(_vm._s(remote.displayName))]),_c('button',{class:remote.muteAudioPlaying ? '' : 'active',attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.handleClickRemoteAudioBtn(remote.userId, !remote.muteAudioPlaying)}}},[_vm._v(\" 静音 \")])])}),0)])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"sideBar\"},[_c('h2',{staticClass:\"logo\"},[_c('a',{attrs:{\"href\":\"/\"}})])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"metting flex\">\r\n    <!-- 左边栏 -->\r\n    <div class=\"sideBar\">\r\n      <h2 class=\"logo\">\r\n        <a href=\"/\"></a>\r\n      </h2>\r\n    </div>\r\n    <div class=\"local-container\">\r\n      <div class=\"local-message\">\r\n        <p>\r\n          User: <strong>{{ userName }}</strong>\r\n        </p>\r\n        <p>\r\n          Channel Id: <strong>{{ channelId }}</strong>\r\n        </p>\r\n        <button\r\n          type=\"button\"\r\n          :class=\"isOpenCamera ? 'active' : ''\"\r\n          @click=\"handleClickCameraBtn\"\r\n        >\r\n          关闭摄像头\r\n        </button>\r\n        <button\r\n          type=\"button\"\r\n          :class=\"isOpenAudio ? 'active' : ''\"\r\n          @click=\"handleClickAudioBtn\"\r\n        >\r\n          关闭麦克风\r\n        </button>\r\n        <button type=\"button\" @click=\"handleClickLeaveBtn\">退出房间</button>\r\n      </div>\r\n      <div class=\"local-video\">\r\n        <video autoplay ref=\"localVideo\"></video>\r\n      </div>\r\n    </div>\r\n    <div class=\"remote-container\">\r\n      <h2>房间成员</h2>\r\n      <ul>\r\n        <li v-for=\"remote in remotes\" :key=\"remote.userId\">\r\n          <video\r\n            autoplay\r\n            :muted=\"remote.muteAudioPlaying\"\r\n            :ref=\"'remote' + remote.userId\"\r\n          ></video>\r\n          <div class=\"remote-name\">{{ remote.displayName }}</div>\r\n          <button\r\n            type=\"button\"\r\n            :class=\"remote.muteAudioPlaying ? '' : 'active'\"\r\n            @click=\"\r\n              handleClickRemoteAudioBtn(remote.userId, !remote.muteAudioPlaying)\r\n            \"\r\n          >\r\n            静音\r\n          </button>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Metting',\r\n  data() {\r\n    return {\r\n      channelId: '', // 房间号\r\n      userName: '', // 用户名\r\n      userId: '', // 用户号\r\n      isOpenCamera: true, // 是否打开摄像头\r\n      isOpenAudio: true, // 是否打开麦克风\r\n      remotes: this.$aliWebrtc.getUserList() // 房间成员\r\n    }\r\n  },\r\n  methods: {\r\n    handleClickLeaveBtn() {\r\n      // 退出房间\r\n      this.leaveChannel()\r\n    },\r\n    handleClickCameraBtn() {\r\n      // 切换打开关闭摄像头\r\n      this.$aliWebrtc.configLocalCameraPublish = !this.isOpenCamera\r\n      // 重新推流\r\n      this.publishVideo(!this.isOpenCamera, this.isOpenAudio)\r\n    },\r\n    handleClickAudioBtn() {\r\n      // 切换打开关闭麦克风\r\n      this.$aliWebrtc.configLocalAudioPublish = !this.isOpenAudio\r\n      // 重新推流\r\n      this.publishVideo(this.isOpenCamera, !this.isOpenAudio)\r\n    },\r\n    handleClickRemoteAudioBtn(userId, enable) {\r\n      // 切换是否开启某个远程用户的静音\r\n      this.$aliWebrtc.muteRemoteAudioPlaying(userId, enable)\r\n      const userInfo = this.$aliWebrtc.getUserInfo(userId)\r\n      this.remotes.map((remote, index) => {\r\n        if (remote.userId === userId) {\r\n          this.remotes.splice(index, 1, userInfo)\r\n        }\r\n      })\r\n    },\r\n    leaveChannel() {\r\n      this.$aliWebrtc.leaveChannel().then(\r\n        () => {\r\n          console.log('退出成功')\r\n          // 返回登录页\r\n          this.$router.replace({ path: '/' })\r\n          location.reload()\r\n        },\r\n        (error) => {\r\n          alert('leaveChannel err: ' + error.message)\r\n        }\r\n      )\r\n    },\r\n    init() {\r\n      /**\r\n       * 监听 remote用户加入房间 onJoin\r\n       * 更新在线用户列表 默认订阅\r\n       */\r\n      this.$aliWebrtc.on('onJoin', (publisher) => {\r\n        this.remotes.push(publisher)\r\n        this.subscribeRemote(publisher.userId)\r\n      })\r\n    },\r\n    showLocalVideo() {\r\n      console.log(this.$refs.localVideo)\r\n      this.$aliWebrtc\r\n        .startPreview(this.$refs.localVideo)\r\n        .then(() => {\r\n          //预览成功\r\n          console.log('预览成功')\r\n        })\r\n        .catch((error) => {\r\n          // 预览失败\r\n          alert('startPreview err: ' + error.message)\r\n        })\r\n    },\r\n    publishVideo(isOpenCamera, isOpenAudio) {\r\n      this.$aliWebrtc.publish().then(\r\n        () => {\r\n          // 推流成功\r\n          console.log('推流成功')\r\n          // 按钮状态\r\n          this.isOpenCamera = isOpenCamera\r\n          this.isOpenAudio = isOpenAudio\r\n        },\r\n        (error) => {\r\n          // 推流失败\r\n          alert('publish err: ' + error.message)\r\n        }\r\n      )\r\n    },\r\n    subscribeRemote(userId) {\r\n      this.$aliWebrtc.subscribe(userId).then(\r\n        (userId) => {\r\n          this.$aliWebrtc.setDisplayRemoteVideo(\r\n            userId, // userId是用户ID\r\n            this.$refs['remote' + userId][0], // html中video元素\r\n            1 // 1表示摄像头流（大流和小流）和音频流，2表示屏幕分享流\r\n          )\r\n        },\r\n        (error) => {\r\n          alert('subscribe err: ' + error.message)\r\n        }\r\n      )\r\n    }\r\n  },\r\n  created() {\r\n    // 获取login页面传参\r\n    const { channelId, userName, userId } = this.$route.query\r\n    this.userName = userName\r\n    this.userId = userId\r\n    this.channelId = channelId\r\n  },\r\n  mounted() {\r\n    this.init()\r\n    // 打开本地视频预览\r\n    this.showLocalVideo()\r\n    // 推流 默认推摄像头和麦克风流\r\n    this.publishVideo(this.isOpenCamera, this.isOpenAudio)\r\n    // 订阅远程用户\r\n    this.remotes.map((remote) => {\r\n      this.subscribeRemote(remote.userId)\r\n    })\r\n  },\r\n  beforeDestroy() {\r\n    // 退出房间\r\n    this.leaveChannel()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import url('../assets/css/variable.less');\r\n@media (max-width: 400px) {\r\n  .metting {\r\n    display: block;\r\n    .sideBar {\r\n      display: none;\r\n    }\r\n    .local-container {\r\n      height: calc(100vh - 120px);\r\n    }\r\n    .remote-container {\r\n      width: 100% !important;\r\n      height: 120px;\r\n      h2 {\r\n        display: none;\r\n      }\r\n      ul {\r\n        display: flex;\r\n        overflow-x: scroll;\r\n        height: 100% !important;\r\n        align-items: center;\r\n        li {\r\n          margin-right: 20px;\r\n          margin-bottom: 0 !important;\r\n          flex-shrink: 0;\r\n          width: 100px !important;\r\n          height: 90px !important;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n.metting {\r\n  height: 100vh;\r\n  .sideBar {\r\n    width: 100px;\r\n    background: @color_metting;\r\n    color: #fff;\r\n    .logo {\r\n      height: 50px;\r\n      padding: 10px;\r\n      a {\r\n        display: block;\r\n        height: 100%;\r\n        background: url('../assets/logo.png') no-repeat center;\r\n        background-size: contain;\r\n      }\r\n    }\r\n  }\r\n  .local-container {\r\n    flex: 1;\r\n    position: relative;\r\n    .local-message {\r\n      height: 50px;\r\n      background: @color_metting;\r\n      color: #fff;\r\n      p {\r\n        display: inline-block;\r\n        margin: 0 30px;\r\n        line-height: 50px;\r\n        font-size: 15px;\r\n      }\r\n      button {\r\n        &.active {\r\n          background-color: @color_theme;\r\n        }\r\n      }\r\n    }\r\n    .local-video {\r\n      width: 100%;\r\n      height: calc(100% - 50px);\r\n      background-color: #000;\r\n      padding: 20px;\r\n      video {\r\n        height: 100%;\r\n        width: 100%;\r\n        display: block;\r\n        background-color: #000;\r\n      }\r\n    }\r\n  }\r\n  .remote-container {\r\n    width: 300px;\r\n    background-color: @color_metting;\r\n    color: #fff;\r\n    h2 {\r\n      height: 50px;\r\n      font-size: 20px;\r\n    }\r\n    ul {\r\n      height: calc(100% - 50px);\r\n      overflow-y: scroll;\r\n      padding: 0 15px;\r\n      &::-webkit-scrollbar {\r\n        display: none;\r\n      }\r\n      li {\r\n        margin-bottom: 20px;\r\n        width: 100%;\r\n        height: 180px;\r\n        position: relative;\r\n        video {\r\n          background: #000;\r\n          width: 100%;\r\n          height: 100%;\r\n          border-radius: 10px;\r\n        }\r\n        .remote-name {\r\n          position: absolute;\r\n          left: 50%;\r\n          bottom: 15px;\r\n          padding: 4px 15px;\r\n          background: rgba(255, 255, 255, 0.5);\r\n          color: #fff;\r\n          font-size: 14px;\r\n          border-radius: 4px;\r\n          transform: translateX(-50%);\r\n        }\r\n        button {\r\n          position: absolute;\r\n          right: 10px;\r\n          bottom: 15px;\r\n          &.active {\r\n            background-color: @color_theme;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .remote-user-list {\r\n    width: 200px;\r\n    background: #333;\r\n    color: #fff;\r\n    flex-shrink: 0;\r\n    h2 {\r\n      font-size: 20px;\r\n      line-height: 36px;\r\n      font-weight: 600;\r\n      text-align: center;\r\n    }\r\n    .user-ul {\r\n      .user-ul-li {\r\n        font-size: 20px;\r\n        height: 40px;\r\n        line-height: 40px;\r\n        text-align: center;\r\n        position: relative;\r\n        &:hover {\r\n          background: #666;\r\n        }\r\n        .menu {\r\n          position: absolute;\r\n          z-index: 100;\r\n          left: 200px;\r\n          text-align: left;\r\n          top: 1px;\r\n          background-color: #333333;\r\n          border-radius: 8px;\r\n          li {\r\n            padding: 0 10px;\r\n            min-width: 165px;\r\n            height: 40px;\r\n            line-height: 40px;\r\n            color: #ddd;\r\n            text-indent: 10px;\r\n            cursor: pointer;\r\n            span {\r\n              cursor: pointer;\r\n              &:hover {\r\n                color: #38f;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .publisher {\r\n    margin: 20px 0 20px calc(50 / 1080 * 100vh);\r\n    input[type='text'] {\r\n      border: 2px solid #456879;\r\n      border-radius: 10px;\r\n      height: 40px;\r\n      width: 95px;\r\n    }\r\n    button {\r\n      font-family: arial;\r\n      color: #ffffff !important;\r\n      font-size: 12px;\r\n      width: 68px;\r\n      height: 26px;\r\n      background: deepskyblue;\r\n      border: none;\r\n      outline: none;\r\n      &:hover {\r\n        background: #006eff;\r\n        cursor: pointer;\r\n      }\r\n    }\r\n    .select-preview {\r\n    }\r\n    .push-stream {\r\n    }\r\n    .streamType {\r\n      labeL {\r\n        font-family: arial;\r\n        font-size: 16px;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Metting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Metting.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Metting.vue?vue&type=template&id=2b44b674&scoped=true&\"\nimport script from \"./Metting.vue?vue&type=script&lang=js&\"\nexport * from \"./Metting.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Metting.vue?vue&type=style&index=0&id=2b44b674&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2b44b674\",\n  null\n  \n)\n\nexport default component.exports","import VueRouter from \"vue-router\"\r\nimport Login from \"../pages/Login.vue\"\r\nimport Metting from \"../pages/Metting.vue\"\r\n\r\n\r\nexport default new VueRouter({\r\n    routes: [{\r\n        path: \"/\",\r\n        component: Login\r\n    }, {\r\n        path: \"/metting\",\r\n        component: Metting\r\n    }]\r\n})\r\n\r\n","import Vue from 'vue'\nimport App from './App.vue'\nimport VueRouter from \"vue-router\"\nimport router from \"./router\"\n// 引入sdk\nimport 'aliyun-webrtc-sdk'\n\nVue.config.productionTip = false\n\nVue.use(VueRouter)\n\nnew Vue({\n  render: h => h(App),\n  router,\n  beforeCreate() {\n    /**\n   * 创始音视频实例,丢在全局$aliWebrtc上  自动推流, 自动订阅\n   */\n    Vue.prototype.$aliWebrtc = new window.AliRtcEngine({autoPublish: true, autoSubscribe: true});\n  }\n}).$mount('#app')\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=074d0536&prod&lang=less&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Metting.vue?vue&type=style&index=0&id=2b44b674&prod&lang=less&scoped=true&\""],"sourceRoot":""}